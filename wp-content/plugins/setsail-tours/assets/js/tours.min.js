!function(e){"use strict";var o={};function t(){(function(){var o=e(".qodef-tours-filter-holder.qodef-tours-filter-horizontal form"),t=e(".qodef-tours-filter-holder.qodef-tours-filter-vertical-small form");return{fieldsHelper:{init:function(){!function(){var e="undefined"!=typeof qodefToursSearchData?qodefToursSearchData.destinations:[],e=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.whitespace,queryTokenizer:Bloodhound.tokenizers.whitespace,local:e});o.find(".qodef-tours-destination-search").typeahead({hint:!0,highlight:!0,minLength:1},{name:"destinations",source:e}),t.find(".qodef-tours-destination-search").typeahead({hint:!0,highlight:!0,minLength:1},{name:"destinations",source:e})}()}}}})().fieldsHelper.init()}function i(){}function n(){}function a(){}"undefined"!=typeof qodef&&(qodef.modules.destinations=o),o.qodefOnDocumentReady=t,o.qodefOnWindowLoad=i,o.qodefOnWindowResize=n,o.qodefOnWindowScroll=a,e(document).ready(t),e(window).load(i),e(window).resize(n),e(window).scroll(a)}(jQuery),function(l){"use strict";var e={};function o(){"undefined"!=typeof qodef&&typeof qodef||t(),"undefined"!=typeof qodef&&i(),l(".qodef-tour-item-single-holder").find(".qodef-tour-item-wrapper ul li a").on("click",function(){var e=l(this),o=e.attr("href");"#tour-item-gallery-id"===o&&"function"==typeof qodef.modules.common.qodefInitGridMasonryListLayout&&qodef.modules.common.qodefInitGridMasonryListLayout()}),a().fieldsHelper.init(),a().handleSearch.init(),c()}function t(){var e=l(".qodef-tour-item-single-holder"),t=e.find(".qodef-tour-item-wrapper ul li a"),i=e.find(".qodef-tour-item-section");t.first().addClass("qodef-active-item"),t.on("click",function(){t.removeClass("qodef-active-item");var e=l(this),o=e.attr("href");e.addClass("qodef-active-item"),i.length&&i.each(function(){var e=l(this);e.attr("id")===o?(e.show(),"#tour-item-location-id"===o&&n()):e.hide()})})}function i(){l(".qodef-tour-item-single-holder").find(".qodef-tour-item-wrapper ul li a").on("click",function(){"#tour-item-location-id"===l(this).attr("href")&&n()})}function n(){"undefined"!=typeof qodef&&qodef.modules.googleMap.qodefShowGoogleMap()}function a(){var a=l(".qodef-tours-search-main-filters-holder form");function s(e,o,t,i){var n=e.find('input[type="submit"]'),a=l(".qodef-tours-search-content"),r=l(".qodef-tours-search-page-holder"),d=!1;o=void 0===o||o,t=void 0===t||t,i=void 0!==i&&i;var s=n.data("searching-label"),f=n.val();if(!d){o&&n.val(s),t&&e.find('[name="page"]').val(1),d=!0,a.addClass("qodef-tours-searching");var u={action:"tours_search_handle_form_submission"};u.fields=e.serialize(),l.ajax({type:"GET",url:qodefToursAjaxURL,dataType:"json",data:u,success:function(e){o&&n.val(f),a.removeClass("qodef-tours-searching"),d=!1,a.find(".qodef-tours-row .qodef-tours-row-inner-holder").html(e.html),function(e){var o="";location.href.match(/\?.*/)&&document.referrer&&(o=location.href.replace(/\?.*/,"")),window.history.replaceState({page:o+"?"+e},"",o+"?"+e)}(e.url),l(".qodef-tours-search-pagination").remove(),a.append(e.paginationHTML),i&&l("html, body").animate({scrollTop:r.offset().top-80},700),c()}})}}return{fieldsHelper:{init:function(){!function(){var e=a.find(".qodef-tours-range-input"),d=a.find(".qodef-tours-price-range-field"),s=a.find('[name="min_price"]'),f=a.find('[name="max_price"]'),o=d.data("min-price"),t=d.data("max-price"),i=d.data("chosen-min-price"),n=d.data("chosen-max-price");e.length&&e.each(function(){noUiSlider.create(this,{start:[i,n],connect:!0,step:1,range:{min:[o],max:[t]},format:{to:function(e){return Math.floor(e)},from:function(e){return e}}}).on("update",function(e){var o=e[0],t=e[1],i=d.data("currency-symbol"),n=d.data("currency-symbol-position"),a="left"===n?i+o:o+i,r="left"===n?i+t:o+t;d.val(a+" - "+r),s.val(o),f.val(t)})})}(),function(){var e="undefined"!=typeof qodefToursSearchData?qodefToursSearchData.tours:[];e=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.whitespace,queryTokenizer:Bloodhound.tokenizers.whitespace,local:e}),a.find(".qodef-tours-keyword-search").typeahead({hint:!0,highlight:!0,minLength:1},{name:"tours",source:e})}(),function(){var e="undefined"!=typeof qodefToursSearchData?qodefToursSearchData.destinations:[];e=new Bloodhound({datumTokenizer:Bloodhound.tokenizers.whitespace,queryTokenizer:Bloodhound.tokenizers.whitespace,local:e}),a.find(".qodef-tours-destination-search").typeahead({hint:!0,highlight:!0,minLength:1},{name:"destinations",source:e})}(),function(){function o(e){""===e.val()?e.addClass("qodef-tours-select-default-option"):e.removeClass("qodef-tours-select-default-option")}var e=l(".qodef-tours-select-placeholder");e.length&&e.each(function(){var e=l(this);o(l(this)),e.on("change",function(){o(l(this))})})}()}},handleSearch:{init:function(){!function(o){l("body").hasClass("post-type-archive-tour-item")&&o.on("submit",function(e){e.preventDefault(),e.stopPropagation(),s(o)})}(a),function(n){var a=l(".qodef-search-ordering-item"),r=n.find('[name="order_by"]'),d=n.find('[name="order_type"]');a.length&&a.on("click",function(e){e.preventDefault(),e.stopPropagation();var o=l(this);a.removeClass("qodef-search-ordering-item-active"),o.addClass("qodef-search-ordering-item-active");var t=o.data("order-by"),i=o.data("order-type");void 0!==t&&void 0!==i&&(r.val(t),d.val(i)),s(n,!1,!1)})}(a),function(i){var n=l(".qodef-tours-search-view-item"),a=i.find('[name="view_type"]');n.length&&n.on("click",function(e){e.preventDefault(),e.stopPropagation();var o=l(this);n.removeClass("qodef-tours-search-view-item-active"),o.addClass("qodef-tours-search-view-item-active");var t=o.data("type");void 0!==t&&a.val(t),s(i,!1,!1)})}(a),function(t){var e=l(".qodef-tours-search-pagination"),i=t.find('[name="page"]');e.length&&l(document).on("click",".qodef-tours-search-pagination li",function(e){e.preventDefault(),e.stopPropagation();var o=l(this).data("page");void 0!==o&&i.val(o),s(t,!0,!1,!0)})}(a)}}}}function c(){var e=l(".qodef-tours-gallery-item");e.length&&e.each(function(){var e=l(this),o=e.find(".qodef-tours-gallery-item-content-holder"),t=o.find(".qodef-tours-gallery-item-excerpt"),i=Math.ceil(t.height());o.css("transform","translate3d(0,"+i+"px,0)"),e.mouseenter(function(){o.css("transform","translate3d(0,0,0)")}),e.mouseleave(function(){i=Math.ceil(t.height()),o.css("transform","translate3d(0,"+i+"px,0)")})})}"undefined"!=typeof qodef&&(qodef.modules.tours=e),e.qodefOnDocumentReady=o,e.qodefInitTourItemTabs=t,e.qodefTourTabsMapTrigger=i,e.qodefToursGalleryAnimation=c,l(document).ready(o)}(jQuery),function(u){"use strict";var e={};function o(){t().init()}function l(){return"undefined"!=typeof qodef}function t(){function e(i){var n,a,r,d=i.find(".qodef-tours-list-pagination-data"),s=i.find(".qodef-tours-list-holder-inner");n=i.find(".qodef-tours-load-more-button"),a=i.find(".qodef-tours-pagination-holder"),r=!1,n.length&&n.on("click",function(e){e.preventDefault(),e.stopPropagation();var o=n.data("loading-label"),t=n.text();n.text(o),function(e){var o=e.find(".qodef-tour-list-filter-item");o.removeClass("qodef-tour-list-current-filter"),o.eq(0).addClass("qodef-tour-list-current-filter"),e.find(".qodef-tours-list-holder-inner").isotope({filter:"*"})}(i),r||(r=!0,function(o){var e={action:"setsail_tours_list_ajax_pagination",fields:d.find("input").serialize()};u.ajax({url:qodefToursAjaxURL,data:e,dataType:"json",type:"POST",success:function(e){e.havePosts&&d.find('[name="next_page"]').val(e.nextPage),l()&&qodef.modules.common.qodefInitParallax(),o.call(this,e)}})}(function(e){if(!0===e.havePosts){n.text(t);var o=u(e.html);s.append(o),s.waitForImages(function(){f(s),s.isotope("appended",o).isotope("reloadItems"),qodef.modules.tours.qodefToursGalleryAnimation()})}else n.remove(),a.html(e.message);r=!1}))})}var o=u(".qodef-tours-list-holder"),f=function(e){if(e.parent().hasClass("qodef-tours-type-masonry")){var o=parseInt(e.find(".qodef-tours-row-item").css("padding-left")),t=e.find(".qodef-size-default"),i=e.find(".qodef-size-large-width"),n=e.find(".qodef-size-large-height"),a=e.find(".qodef-size-large-width-height"),r=e.find(".qodef-tours-list-grid-sizer").width();t.css("height",r-2*o),n.css("height",Math.round(2*r)-2*o),a.css("height",Math.round(2*r)-2*o),i.css("height",r-2*o)}};return{init:function(){o.length&&void 0!==u.fn.isotope&&o.each(function(){!function(e){e.animate({opacity:1}),f(e),e.isotope({percentPosition:!0,itemSelector:".qodef-tours-row-item",transitionDuration:"0.4s",isInitLayout:!0,hiddenStyle:{opacity:0},visibleStyle:{opacity:1},masonry:{columnWidth:".qodef-tours-list-grid-sizer"}}),l()&&qodef.modules.common.qodefInitParallax(),u(window).resize(function(){f(e)})}(u(this).find(".qodef-tours-list-holder-inner")),function(i){var n=i.find(".qodef-tour-list-filter-item");n.on("click",function(e){e.preventDefault(),e.stopPropagation();var o=u(this),t=o.data("type");n.removeClass("qodef-tour-list-current-filter"),o.addClass("qodef-tour-list-current-filter"),t=void 0===t?"*":"."+t,i.find(".qodef-tours-list-holder-inner").isotope({filter:t})})}(u(this)),e(u(this))})}}}"undefined"!=typeof qodef&&(qodef.modules.toursListSC=e),e.qodefOnWindowLoad=o,e.toursList=t,u(window).load(o)}(jQuery);