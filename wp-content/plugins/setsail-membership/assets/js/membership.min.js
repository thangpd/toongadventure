if(function(e,o,a){var n,s=e.getElementsByTagName(o)[0];e.getElementById(a)||((n=e.createElement(o)).id=a,n.src="//connect.facebook.net/en_US/sdk.js",s.parentNode.insertBefore(n,s))}(document,"script","facebook-jssdk"),"undefined"!=typeof qodefSocialLoginVars)var facebookAppId=qodefSocialLoginVars.social.facebookAppId;facebookAppId&&(window.fbAsyncInit=function(){FB.init({appId:facebookAppId,cookie:!0,xfbml:!0,version:"v2.5"}),window.FB=FB}),function(s){"use strict";var e={};function o(){var e=s(".qodef-login-opener"),o=s(".qodef-login-register-holder");if(s(document.body).on("open_user_login_trigger",function(){o.fadeIn(300),o.addClass("opened")}),e){var a=s(".qodef-login-register-content");e.on("click",function(e){e.preventDefault(),o.fadeIn(300),o.addClass("opened")}),o.on("click",function(e){o.hasClass("opened")&&(o.fadeOut(300),o.removeClass("opened"))}),a.on("click",function(e){e.stopPropagation()}),s(window).on("keyup",function(e){o.hasClass("opened")&&27===e.keyCode&&(o.fadeOut(300),o.removeClass("opened"))}),a.tabs()}}function a(){s(".qodef-login-form").on("submit",function(e){e.preventDefault();var o={action:"setsail_membership_login_user",security:s(this).find("#qodef-login-security").val(),login_data:s(this).serialize()};return s.ajax({type:"POST",data:o,url:qodefGlobalVars.vars.qodefAjaxUrl,success:function(e){var o;t(o=JSON.parse(e)),"success"===o.status&&(window.location=o.redirect)}}),!1})}function n(){s(".qodef-register-form").on("submit",function(e){e.preventDefault();var o={action:"setsail_membership_register_user",security:s(this).find("#qodef-register-security").val(),register_data:s(this).serialize()};return s.ajax({type:"POST",data:o,url:qodefGlobalVars.vars.qodefAjaxUrl,success:function(e){var o;t(o=JSON.parse(e)),"success"===o.status&&(window.location=o.redirect)}}),!1})}function i(){var a=s(".qodef-reset-pass-form");a.on("submit",function(e){e.preventDefault();var o={action:"setsail_membership_user_lost_password",user_login:a.find("#user_reset_password_login").val()};s.ajax({type:"POST",data:o,url:qodefGlobalVars.vars.qodefAjaxUrl,success:function(e){var o=JSON.parse(e);t(o),"success"===o.status&&(window.location=o.redirect)}})})}function t(e){var o=s(".qodef-membership-response-holder"),a=_.template(s(".qodef-membership-response-template").html())({messageClass:"success"===e.status?"qodef-membership-message-succes":"qodef-membership-message-error",message:e.message});o.html(a)}function r(){s(".qodef-facebook-login-holder").on("submit",function(e){e.preventDefault(),window.FB.login(function(e){!function(e){"connected"===e.status?(console.log("Welcome! Fetching information from Facebook..."),FB.api("/me","GET",{fields:"id, name, email, link, picture"},function(e){var o=s(".qodef-facebook-login-holder [name^=qodef_nonce_facebook_login]").val();e.nonce=o,e.image=e.picture.data.url;var a={action:"setsail_membership_check_facebook_user",response:e};s.ajax({type:"POST",data:a,url:qodefGlobalVars.vars.qodefAjaxUrl,success:function(e){var o;t(o=JSON.parse(e)),"success"===o.status&&(window.location=o.redirect)}})})):"not_authorized"===e.status?console.log("Please log into this app"):console.log("Please log into Facebook")}(e)},{scope:"email, public_profile"})})}function d(){if("undefined"!=typeof qodefSocialLoginVars)var e=qodefSocialLoginVars.social.googleClientId;e?gapi.load("auth2",function(){window.auth2=gapi.auth2.init({client_id:e}),s(".qodef-google-login-holder").on("submit",function(e){e.preventDefault(),window.auth2.signIn(),function(){if(window.auth2.isSignedIn.get()){var e=window.auth2.currentUser.get().getBasicProfile(),o=s(".qodef-google-login-holder [name^=qodef_nonce_google_login]").val(),a={action:"setsail_membership_check_google_user",response:{id:e.getId(),name:e.getName(),email:e.getEmail(),image:e.getImageUrl(),link:"https://plus.google.com/"+e.getId(),nonce:o}};s.ajax({type:"POST",data:a,url:qodefGlobalVars.vars.qodefAjaxUrl,success:function(e){var o;t(o=JSON.parse(e)),"success"===o.status&&(window.location=o.redirect)}})}}()})}):s(".qodef-google-login-holder").on("submit",function(e){e.preventDefault()})}"undefined"!=typeof qodef&&(qodef.modules.socialLogin=e),e.qodefUserLogin=a,e.qodefUserRegister=n,e.qodefUserLostPassword=i,e.qodefInitLoginWidgetModal=o,e.qodefInitFacebookLogin=r,e.qodefInitGooglePlusLogin=d,e.qodefRenderAjaxResponseMessage=t,s(document).ready(function(){o(),a(),n(),i(),function(){var e=s(".qodef-mobile-header .qodef-user-logged-in");e.length&&e.each(function(){var e=s(this),o=e.find(".qodef-logged-in-user"),a=e.find(".qodef-login-dropdown");o.on("click",function(e){e.preventDefault(),a.hasClass("qodef-active")?a.removeClass("qodef-active"):a.addClass("qodef-active")})})}()}),s(window).load(function(){r(),d(),function(){s(".qodef-membership-main-wrapper");var e=s(".page-template-user-dashboard .qodef-content"),o=s(".qodef-page-footer"),a=0;!qodef.body.hasClass("qodef-header-transparent")&&1024<qodef.windowWidth&&(a=a+qodefGlobalVars.vars.qodefMenuAreaHeight+qodefGlobalVars.vars.qodefLogoAreaHeight);0<o.length&&(a+=o.outerHeight());if(1024<qodef.windowWidth){var n=qodef.windowHeight-a;e.css({"min-height":n+"px"})}}()})}(jQuery),function(n){"use strict";var e={};function o(){a(),n(document.body).on("setsail_membership_favorites_trigger",function(){a()})}function a(){n(".qodef-membership-item-favorites").on("click",function(e){e.preventDefault();var o,a=n(this);void 0!==a.data("item-id")&&(o=a.data("item-id")),function(a,e){var o={action:"setsail_membership_add_item_to_favorites",item_id:e};n.ajax({type:"POST",data:o,url:qodefGlobalVars.vars.qodefAjaxUrl,success:function(e){var o=JSON.parse(e);"success"===o.status&&(a.hasClass("qodef-icon-only")||a.find("span").text(o.data.message),a.find(".qodef-favorites-icon").removeClass("fa-heart fa-heart-o").addClass(o.data.icon))}})}(a,o)})}(qodef.modules.membershipFavorites=e).qodefOnDocumentReady=o,n(document).ready(o)}(jQuery);